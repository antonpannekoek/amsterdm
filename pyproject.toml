[project]
name = "AmsterDM"
description = "Precise disperson measure corrections for FRBs"
authors = [
    {name = "Evert Rol", email = "e.rol@uva.nl"}
    ]
readme = "README.md"
dynamic = ["version"]  # Derived from Git, with a fallback version

requires-python = ">=3.11"
license = {text = "MIT"}

dependencies = [
    "numpy ~= 2.3.5",
    "scipy ~= 1.16.3",
    "matplotlib ~= 3.10.7",
    "astropy ~= 7.2.0",
    "h5py ~= 3.15.1",
    "datashader ~= 0.18.2",
    "holoviews ~= 1.22.1",
    "hvplot ~= 0.12.1",
    "panel ~= 1.8.4",
    "param ~= 2.3.1",
    "xarray ~= 2025.12.0",
]

[project.optional-dependencies]
dev = [
    "pytest ~= 8.4.2",
    "ruff ~= 0.13.2",
    "myst-parser ~= 5.0.0",
]
extra = [
    "jupyter >= 1.1",
]


[tool.setuptools.packages.find]
where = ["src"]

[tool.ruff]
# Ignore the auto-generated file
include = ["src/amsterdm/*.py", "tests/*.py", "examples/*.py"]
exclude = ["src/amsterdm/version.py"]

[tool.ruff.lint]
# Ignore ambiguous variable names (e.g, `l` and `I`)
#ignore = ["E741"]

[tool.pytest.ini_options]
testpaths = ["tests"]

[build-system]
requires = ["setuptools>=80.9", "setuptools_scm>=9.2"]
build-backend = "setuptools.build_meta"

[tool.setuptools_scm]
fallback_version = "0.1"
write_to = "src/amsterdm/version.py"
write_to_template = """
# coding: utf-8
# file generated by setuptools_scm
# don't change, don't track in version control
__version__ = version = "{version}"
__version_tuple__ = version_tuple = {version_tuple!r}
__git_hash__ = "{scm_version.node}"
__semantic_version__ = "{scm_version.tag}"
"""
